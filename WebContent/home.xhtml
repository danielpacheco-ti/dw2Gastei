<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<title>Gastei!</title>
	<link rel="shortcut icon" type="image/x-icon"
		href="resources/money.ico" />

	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
		integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
		crossorigin="anonymous" />
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
		integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
		crossorigin="anonymous"></script>

</h:head>
<h:body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<div class="row">
					<div class="col-md-4"></div>
					<div class="col-md-8"></div>
				</div>
				<br></br>
				<h3 class="text-center">Bem-vindo, #{sessionScope.nome}</h3>
				<div class="row">
					<div class="col-md-4"></div>
					<div class="col-md-4 col-sm-2"  align="center"><!--Imagem de Perfil-->
						<img alt="perfil" src="resources/money.ico"
							class="img-circle" style="width: 20%"	/>
							
							</div>
					<div class="col-md-4"></div>
				</div>

				<!--Reservas-->
				<div class="row">
					<div class="col-md-4">	
					<br></br>					
						<h:panelGroup rendered="#{not empty gastosBean.reserva}">
							<h:form>
								<h:dataTable class="table table-bordered table-striped" 
									value="#{gastosBean.reservas}" var="reserva" border="1"
									cellpadding="2" cellspacing="0">
									<f:facet name="header">
										<h:outputText value="Reserva"/>
									</f:facet>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Descrição" />
										</f:facet>
										<h:outputText value="#{reserva.descricao}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Valor" />
										</f:facet>
										<h:outputText value="R$ #{reserva.valor}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Data da reserva" />
										</f:facet>
										<h:outputText value="#{reserva.dataGasto}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="" />
										</f:facet>
										<h:commandButton action="#{gastosBean.editaReserva(reserva.id)}"
											class="btn btn-primary btn-default btn-block" value="Editar" />
									</h:column>
								</h:dataTable>
							</h:form>
						</h:panelGroup>	
					</div>

					<!--Tabela 1-->
					<div class="col-md-8">
					<br></br>
						<h:panelGroup rendered="#{not empty gastosBean.gastos}">
							<h:form>
								<h:dataTable class="table table-bordered table-striped" 
									value="#{gastosBean.gastos}" var="gastos" border="0"
									cellpadding="2" cellspacing="0" align="center">
									<f:facet name="header">
										<h:outputText value="Gastos do mês"/>
									</f:facet>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Nome" />
										</f:facet>
										<h:outputText value="#{gastos.nome}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Descrição" />
										</f:facet>
										<h:outputText value="#{gastos.descricao}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Valor" />
										</f:facet>
										<h:outputText value="R$ #{gastos.valor}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Vencimento" />
										</f:facet>
										<h:outputText value="#{gastos.dataVencimento}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Pagamento" />
										</f:facet>
										<h:outputText value="#{gastos.dataGasto}" />
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="" />
										</f:facet>
										<h:commandButton action="#{gastosBean.editaGasto(gastos.id)}"
											class="btn btn-primary btn-default btn-block" value="Editar" />
									</h:column>
								</h:dataTable>
							</h:form>
							</h:panelGroup>	
						
						<h:form>
							<h:panelGrid columns="3" cellpadding="8" cellspacing="2000"
							class="center">									
										<h:column>										
											<h:commandButton action="cadastroGasto.xhtml" class="btn btn-primary btn-default btn-block" value="Adicionar Gasto" />
										</h:column>
										<h:column>
											<h:commandButton action="cadastroReserva.xhtml" class="btn btn-primary btn-default btn-block" value="Adicionar Reserva" />
										</h:column>
						
										<h:column>
											<h:commandButton action="#{usuarioBean.deslogar}" class="btn btn-primary btn-default btn-block" value="Logout" />
										</h:column>
							</h:panelGrid>				
								<h:panelGrid columns="2" class="table table-bordered table-dark" border="1"
									cellpadding="2" cellspacing="0">
   									 <h:panelGroup>Total de gastos do mês</h:panelGroup>
   									 <h:panelGroup><h:outputLabel value="R$ #{gastosBean.soma}"/></h:panelGroup>

   									 <h:panelGroup>Disponivel para reserva</h:panelGroup>
   									 <h:panelGroup><h:outputLabel value="R$ #{gastosBean.reserva}"/></h:panelGroup>
   								</h:panelGrid>
   						</h:form>	
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/scripts.js"></script>
</h:body>
</html>